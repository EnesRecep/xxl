<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_72) on Mon Feb 01 17:21:44 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MergeSorter (XXL 2.1-SNAPSHOT API)</title>
<meta name="date" content="2016-02-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MergeSorter (XXL 2.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MergeSorter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../xxl/core/cursors/sorters/ShuffleCursor.html" title="class in xxl.core.cursors.sorters"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?xxl/core/cursors/sorters/MergeSorter.html" target="_top">Frames</a></li>
<li><a href="MergeSorter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">xxl.core.cursors.sorters</div>
<h2 title="Class MergeSorter" class="title">Class MergeSorter&lt;E&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">xxl.core.cursors.AbstractCursor</a>&lt;E&gt;</li>
<li>
<ul class="inheritance">
<li>xxl.core.cursors.sorters.MergeSorter&lt;E&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>E</code> - the type of the elements returned by this iteration.</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;E&gt;, <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;E&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../xxl/core/relational/cursors/MergeSorter.html" title="class in xxl.core.relational.cursors">MergeSorter</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MergeSorter&lt;E&gt;</span>
extends <a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a>&lt;E&gt;</pre>
<div class="block">An external merge-sort algorithm based on the
 <a href="../../../../xxl/core/cursors/groupers/ReplacementSelection.html" title="class in xxl.core.cursors.groupers"><code>replacement-selection</code></a>
 operator. The external sorting (i.e., the "logical" sort-operator) can be
 implemented (with "physical" operators) in two ways:
 <ol>
     <li>
         Create sorted runs and merge them recursively (external merge-sort)
         or
     </li>
     <li>
         divide the input recursively into partitions until each partition
         fits into main memory. Then the sort-operation is performed with a
         main-memory sorting-algorithm (external distribution-sort).
     </li>
 </ol>
 This class implements the first algorithm. This technique is described in
 "G. Graefe: <i>Query evaluation techniques for large databases</i>.
 Computing Surveys 25:2 June 1993."<br> In the open-phase, sorted runs are
 created with replacement-selection. Note, that replacement-selection
 produces runs that are on average twice as large as the memory available, or
 even bigger. Then, the runs (queues) are recursively merged until
 <code>finalFanIn</code> intermediate runs are left. In the next-phase, the
 remaining runs are merged on demand, i.e., no final queue containing the
 complete sorted output will be created. The next element is determined when
 the user calls the <code>next</code> method.
 
 <p><b>Example usage (1):</b>
 <code><pre>
   MergeSorter&lt;Integer&gt; sorter = new MergeSorter&lt;Integer&gt;(
       new DiscreteRandomNumber(new JavaDiscreteRandomWrapper(100000), 300*1000),
       ComparableComparator.INTEGER_COMPARATOR,
       12,
       12*4096,
       0.0,
       0.0,
       0.0,
       4*4096,
       0.0,
       new Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt;() {
           public Queue&lt;Integer&gt; invoke(Function&lt;?, Integer&gt; function1, Function&lt;?, Integer&gt; function2) {
               return new ListQueue&lt;Integer&gt;();
           }
       },
       true
   );
   
   sorter.open();
   
   int count = 0;
   for (Integer old = null; sorter.hasNext(); count++) {
       if (old != null && old.compareTo(sorter.peek()) > 0)
           throw new RuntimeException("Fehler: Wert " + sorter.peek() + " ist groesser!");
       old = sorter.next();
   }
   System.out.println("Objects: " + count);
   
   sorter.close();
 </pre></code></p>
 
 <p>The constructor of the merge-sorter at least needs to know the
 object-size (which can be estimated by summing up the sizes of primitive
 types, references are assumed to occupy 8 bytes), the memory available
 during the open-phase and the memory available during the next-phase. The
 latter values can differ, e.g., for a sort-merge join for the inputs
 <code>R</code> and <code>S</code> it is a sensible choice to allow the
 merge-sorters to use the entire memory in the open-phase. In the next-phase
 however, two merge-sorters and the join operator have to share the memory
 and the memory has to be divided, i.e., in the next-phase a merge-sorter
 typically has less memory available than in the open-phase (see example 2).
 Further options of more advanced constructors determine how the memory
 assigned to the merge-sorter is used internally. There are four values:
 <ul>
     <li>
         <code>firstOutputBufferRatio</code> the ratio of memory available to
         the output buffer during run-creation
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 use only one page for the output buffer and what remains is
                 used for the heap
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 use as much memory as possible for the output buffer
             </dd>
         </dl>
     </li>
     <li>
         <code>outputBufferRatio</code> the amount of memory available to the
         output buffer during intermediate merges (not the final merge)
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 use only one page for the output buffer, what remains is
                 used for the merger and the input buffer,
                 <code>inputBufferRatio</code> determines how the remaining
                 memory is distributed between them
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 use as much memory as possible for the output buffer
             </dd>
         </dl>
     </li>
     <li>
         <code>inputBufferRatio</code> the amount of memory available to the
         input buffer during intermediate merges (not the final merge)
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 use only one page for the input buffer, what remains is used
                 for the merger (maximal fan-in)
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 use as much memory as possible for the input buffer
             </dd>
         </dl>
     </li>
     <li>
         <code>finalInputBufferRatio</code> the amount of memory available to
         the input buffers of the final (online) merge
         <dl>
             <dt>
                 0.0
             </dt>
             <dd>
                 maximum number of inputs (maximal fan-in), i.e., perform the
                 online merge as early as possible
             </dd>
             <dt>
                 1.0
             </dt>
             <dd>
                 write the entire data into a final queue, the online
                 "merger" just reads the data from this queue
             </dd>
         </dl>
     </li>
 </ul></p>
 
 <p>If you call a constructor with the <code>verbose</code>-flag set to
 <code>true</code> the merge-sorter displays how the memory was distributed
 internally. In addition, the number of merges is displayed.<br />
 <b>Example Output:</b>
 <pre>
 dittrich@hadar:~/newXXL> java -classpath class xxl/cursors/MergeSorter
 -----------------------------------------------------------
 GLOBAL
         blockSize:              4096
         objectSize:             12

 OPEN phase
         memSize:                49152

     run creation
         firstOutputBufferSize:  4096
         heapSize:               3754

     intermediate merges
         outputBufferSize:       4096
         inputBufferSize:        4096
         fanIn:                  10

 NEXT phase
     final merge
         finalMemSize:           16384
         finalInputBufferSize:   4096
         finalFanIn:             3
 -----------------------------------------------------------

 merge: fanIn: 3  queues.size(): 41 &rarr; 39
 merge: fanIn: 10  queues.size(): 39 &rarr; 30
 merge: fanIn: 10  queues.size(): 30 &rarr; 21
 merge: fanIn: 10  queues.size(): 21 &rarr; 12
 merge: fanIn: 10  queues.size(): 12 &rarr; 3
 final merge: fanIn: 3
 Objects: 300000
 </pre></p>
 
 <p>Most constructors have a parameter named <code>newQueue</code>, that
 should return a queue, which is used by the algorithm to materialize the
 internal runs, i.e., this function determines whether the sort operator
 works on queues based on external storage or in main memory (useful for
 testing and counting).</p>
 
 <p><b>Example usage (3):</b>
 <code><pre>
   Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt; newQueue = new Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt;() {
       public Queue&lt;Integer&gt; invoke(Function&lt;?, Integer&gt; function1, Function&lt;?, Integer&gt; function2) {
       
           //return a new ListQueue (resident in main memory)
           
           return new ListQueue&lt;Integer&gt;();
       }
   };
 </pre></code>
 The <code>invoke</code> method with two object parameters has to be
 overriden. This method is called by the merge-sorter with two internal
 functions whenever a new queue is needed:
 <code><pre>
   //internal call to newQueue
 
   newQueue.invoke(getInputBufferSize(), getOutputBufferSize());
 </pre></code>
 The two parameterless functions return an integer object with the buffer
 size for the input- and output-buffer of the queue. You should pass these
 functions directly to the queue (if it can make use of these parameters). If
 the queue gets a read-request it will then open an input stream and call the
 <code>getInputBufferSize</code> method. This means, that the buffer size is
 determined when it is needed and not when the queue is constructed. In other
 words, the computation of the buffer size is delayed until the size of the
 buffer is needed by the queue to construct the buffer.</p>

 <p><b>Example usage (4):</b>
 <code><pre>
   Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt; newQueue = new Function&lt;Function&lt;?, Integer&gt;, Queue&lt;Integer&gt;&gt;() {
       
       protected File getFile() {
           try {
           
               //return a new File-Object (a temp-file created by java.io.File)
               
               return File.createTempFile("RAF", ".queue");
           }
           catch (IOException e) {}
       }
       
       protected Function newObject = new AbstractFunction() {
           public Object invoke() {
 
               //return a new Object
 
               return new MyType();
           }
       };
 
       public Queue&lt;Integer&gt; invoke(Function&lt;?, Integer&gt; function1, Function&lt;?, Integer&gt; function2) {
           return new RandomAccessFileQueue&lt;Integer&gt;(
               getFile(),
               newObject,
               function1,
               function2
           );
       }
   }
 </pre></code></p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util"><code>Iterator</code></a>, 
<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors"><code>Cursor</code></a>, 
<a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors"><code>AbstractCursor</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#blockSize">blockSize</a></span></code>
<div class="block">The size of a block used for the sort operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#comparator">comparator</a></span></code>
<div class="block">The comparator used to compare the elements of the two input iteration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#currentFanIn">currentFanIn</a></span></code>
<div class="block">The number of currently merged runs (queues).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#cursor">cursor</a></span></code>
<div class="block">A cursor holding the final merge of the merge-sorter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#fanIn">fanIn</a></span></code>
<div class="block">The fan-in is needed as parameter for the intermediate merges.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#finalFanIn">finalFanIn</a></span></code>
<div class="block">The sorted runs (queues) are recursively merged until only final fan-in
 intermediate runs are left.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#finalInputBufferSize">finalInputBufferSize</a></span></code>
<div class="block">The final input-buffer size is used for the final merge.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#finalMemSize">finalMemSize</a></span></code>
<div class="block">The size of the memory used for the final merge of the sort operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#firstOutputBufferSize">firstOutputBufferSize</a></span></code>
<div class="block">The first output-buffer size is used during the run creation in the
 open-phase.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#heapSize">heapSize</a></span></code>
<div class="block">The heap size used concerning replacement-selection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#input">input</a></span></code>
<div class="block">The input iteration holding the data to be sorted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#inputBufferSize">inputBufferSize</a></span></code>
<div class="block">The input-buffer size is used during the intermediate merges.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#memSize">memSize</a></span></code>
<div class="block">The size of the memory used for intermediate merges of the sort
 operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#newQueue">newQueue</a></span></code>
<div class="block">A binary function, that should return a queue, which is used by the
 algorithm to materialize the internal runs, i.e., this function
 determines whether the sort operator works on queues based on external
 storage or in main memory (useful for testing and counting).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#newQueuesQueue">newQueuesQueue</a></span></code>
<div class="block">A binary function, which creates a queue, that should contain the queues
 to be merged.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#objectSize">objectSize</a></span></code>
<div class="block">The size of an used for the sort operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#openPhaseFinished">openPhaseFinished</a></span></code>
<div class="block">A boolean flag to signal whether the open-phase is finished.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#outputBufferSize">outputBufferSize</a></span></code>
<div class="block">The output-buffer size is used during the intermediate merges.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#queuesQueueComparator">queuesQueueComparator</a></span></code>
<div class="block">This comparator determines the next queue used for merging.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#runsCreated">runsCreated</a></span></code>
<div class="block">A boolean flag to signal whether the runs are created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#verbose">verbose</a></span></code>
<div class="block">A boolean flag that determines whether a debug output should be
 generated or not.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.xxl.core.cursors.AbstractCursor">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;xxl.core.cursors.<a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a></h3>
<code><a href="../../../../xxl/core/cursors/AbstractCursor.html#assignedNext">assignedNext</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#computedHasNext">computedHasNext</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#hasNext">hasNext</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#isClosed">isClosed</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#isOpened">isOpened</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#isValid">isValid</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#next">next</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter-java.util.Iterator-java.util.Comparator-int-int-double-double-double-int-double-xxl.core.functions.Function-boolean-">MergeSorter</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
           int&nbsp;objectSize,
           int&nbsp;memSize,
           double&nbsp;firstOutputBufferRatio,
           double&nbsp;outputBufferRatio,
           double&nbsp;inputBufferRatio,
           int&nbsp;finalMemSize,
           double&nbsp;finalInputBufferRatio,
           <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;newQueue,
           boolean&nbsp;verbose)</code>
<div class="block">Creates a new merge-sorter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-">MergeSorter</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
           int&nbsp;objectSize,
           int&nbsp;memSize,
           int&nbsp;finalMemSize)</code>
<div class="block">Creates a new merge-sorter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-boolean-">MergeSorter</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
           int&nbsp;objectSize,
           int&nbsp;memSize,
           int&nbsp;finalMemSize,
           boolean&nbsp;verbose)</code>
<div class="block">Creates a new merge-sorter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-double-double-double-int-double-xxl.core.functions.Function-xxl.core.functions.Function-java.util.Comparator-boolean-">MergeSorter</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
           int&nbsp;blockSize,
           int&nbsp;objectSize,
           int&nbsp;memSize,
           double&nbsp;firstOutputBufferRatio,
           double&nbsp;outputBufferRatio,
           double&nbsp;inputBufferRatio,
           int&nbsp;finalMemSize,
           double&nbsp;finalInputBufferRatio,
           <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;newQueue,
           <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&gt;&nbsp;newQueuesQueue,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;queuesQueueComparator,
           boolean&nbsp;verbose)</code>
<div class="block">Creates a new merge-sorter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-xxl.core.functions.Function-boolean-">MergeSorter</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
           int&nbsp;objectSize,
           int&nbsp;memSize,
           int&nbsp;finalMemSize,
           <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;newQueue,
           boolean&nbsp;verbose)</code>
<div class="block">Creates a new merge-sorter.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#close--">close</a></span>()</code>
<div class="block">Closes the merge-sorter, i.e., signals the merge-sorter to clean up
 resources, close the input iteration, etc.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#getInputBufferSize--">getInputBufferSize</a></span>()</code>
<div class="block">Returns the current input-buffer size depending on
 <code>openPhaseFinished</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#getOutputBufferSize--">getOutputBufferSize</a></span>()</code>
<div class="block">Returns the current output-buffer size depending on
 <code>runsCreated</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#hasNextObject--">hasNextObject</a></span>()</code>
<div class="block">Returns <code>true</code> if the iteration has more elements.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#nextObject--">nextObject</a></span>()</code>
<div class="block">Returns the next element in the iteration.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#open--">open</a></span>()</code>
<div class="block">Opens the merge-sorter, i.e., signals the merge-sorter to reserve
 resources, computing and merging the intermediate runs, etc.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../xxl/core/cursors/sorters/MergeSorter.html#showInfo--">showInfo</a></span>()</code>
<div class="block">If the <code>verbose</code>-flag set to <code>true</code> the
 MergeSorter displays this information how the memory was distributed
 internally.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.xxl.core.cursors.AbstractCursor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;xxl.core.cursors.<a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a></h3>
<code><a href="../../../../xxl/core/cursors/AbstractCursor.html#hasNext--">hasNext</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#isClosed--">isClosed</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#next--">next</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#peek--">peek</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#remove--">remove</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#reset--">reset</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#supportsPeek--">supportsPeek</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#supportsRemove--">supportsRemove</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#supportsReset--">supportsReset</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#supportsUpdate--">supportsUpdate</a>, <a href="../../../../xxl/core/cursors/AbstractCursor.html#update-E-">update</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.util.Iterator">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true#forEachRemaining-java.util.function.Consumer-" title="class or interface in java.util">forEachRemaining</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="input">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>input</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt; input</pre>
<div class="block">The input iteration holding the data to be sorted.</div>
</li>
</ul>
<a name="comparator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comparator</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt; comparator</pre>
<div class="block">The comparator used to compare the elements of the two input iteration.</div>
</li>
</ul>
<a name="blockSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockSize</h4>
<pre>protected&nbsp;int blockSize</pre>
<div class="block">The size of a block used for the sort operation.</div>
</li>
</ul>
<a name="objectSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>objectSize</h4>
<pre>protected&nbsp;int objectSize</pre>
<div class="block">The size of an used for the sort operation.</div>
</li>
</ul>
<a name="memSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>memSize</h4>
<pre>protected&nbsp;int memSize</pre>
<div class="block">The size of the memory used for intermediate merges of the sort
 operation.</div>
</li>
</ul>
<a name="finalMemSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalMemSize</h4>
<pre>protected&nbsp;int finalMemSize</pre>
<div class="block">The size of the memory used for the final merge of the sort operation.</div>
</li>
</ul>
<a name="newQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newQueue</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt; newQueue</pre>
<div class="block">A binary function, that should return a queue, which is used by the
 algorithm to materialize the internal runs, i.e., this function
 determines whether the sort operator works on queues based on external
 storage or in main memory (useful for testing and counting). The
 <code>invoke</code> method with two object parameters has to be
 overriden. This method is called by the merge-sorter with two internal
 functions whenever a new queue is needed:
 <code><pre>
   //internal call to newQueue
 
   newQueue.invoke(getInputBufferSize(), getOutputBufferSize());
 </pre></code></div>
</li>
</ul>
<a name="newQueuesQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newQueuesQueue</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&gt; newQueuesQueue</pre>
<div class="block">A binary function, which creates a queue, that should contain the queues
 to be merged. The function takes an iterator and the comparator
 <code>queuesQueueComparator</code> as parameters. E.g.,
 <code><pre>
   new Function&lt;Object, Queue&lt;E&gt;&gt;() {
       public Queue&lt;E&gt; invoke(Object iterator, Object comparator) {
           return new DynamicHeap&lt;E&gt;((Iterator&lt;E&gt;)iterator, (Comparator&lt;E&gt;)comparator);
       }
   };
 </pre>
 The queues contained in the iterator are inserted in the dynamic heap
 using the given comparator for comparison.</div>
</li>
</ul>
<a name="queuesQueueComparator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queuesQueueComparator</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt; queuesQueueComparator</pre>
<div class="block">This comparator determines the next queue used for merging.</div>
</li>
</ul>
<a name="verbose">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verbose</h4>
<pre>protected&nbsp;boolean verbose</pre>
<div class="block">A boolean flag that determines whether a debug output should be
 generated or not.</div>
</li>
</ul>
<a name="cursor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cursor</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt; cursor</pre>
<div class="block">A cursor holding the final merge of the merge-sorter.</div>
</li>
</ul>
<a name="inputBufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputBufferSize</h4>
<pre>protected&nbsp;int inputBufferSize</pre>
<div class="block">The input-buffer size is used during the intermediate merges. It is
 computed as follows:
 <code><pre>
     inputBufferSize = (((int)(((memSize-outputBufferSize)/2-(objectSize+blockSize))*inputBufferRatio))/blockSize+1)*blockSize;
 </pre></code></div>
</li>
</ul>
<a name="finalInputBufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalInputBufferSize</h4>
<pre>protected&nbsp;int finalInputBufferSize</pre>
<div class="block">The final input-buffer size is used for the final merge. It is computed
 as follows:
 <code><pre>
     finalInputBufferSize = (((int)((finalMemSize-objectSize-blockSize)*finalInputBufferRatio))/blockSize+1)*blockSize;
 </pre></code></div>
</li>
</ul>
<a name="heapSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>heapSize</h4>
<pre>protected&nbsp;int heapSize</pre>
<div class="block">The heap size used concerning replacement-selection. In the open-phase,
 sorted runs are created with replacement-selection. The heap size is
 computed as follows:
 <code><pre>
     heapSize = (memSize-firstOutputBufferSize)/objectSize;
 </pre></code></div>
</li>
</ul>
<a name="firstOutputBufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>firstOutputBufferSize</h4>
<pre>protected&nbsp;int firstOutputBufferSize</pre>
<div class="block">The first output-buffer size is used during the run creation in the
 open-phase. It is computed as follows:
 <code><pre>
     firstOutputBufferSize = (((int)(((memSize-objectSize-blockSize)*firstOutputBufferRatio)))/blockSize+1)*blockSize;
 </pre></code></div>
</li>
</ul>
<a name="outputBufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputBufferSize</h4>
<pre>protected&nbsp;int outputBufferSize</pre>
<div class="block">The output-buffer size is used during the intermediate merges. It is
 computed as follows:
 <code><pre>
     outputBufferSize = (((int)((memSize-blockSize-2*(objectSize+blockSize))*outputBufferRatio))/blockSize+1)*blockSize;
 </pre></code></div>
</li>
</ul>
<a name="currentFanIn">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentFanIn</h4>
<pre>protected&nbsp;int currentFanIn</pre>
<div class="block">The number of currently merged runs (queues).</div>
</li>
</ul>
<a name="fanIn">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fanIn</h4>
<pre>protected&nbsp;int fanIn</pre>
<div class="block">The fan-in is needed as parameter for the intermediate merges. It is
 computed as follows:
 <code><pre>
     fanIn = (memSize-outputBufferSize)/(inputBufferSize+objectSize);
 </pre></code></div>
</li>
</ul>
<a name="finalFanIn">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalFanIn</h4>
<pre>protected&nbsp;int finalFanIn</pre>
<div class="block">The sorted runs (queues) are recursively merged until only final fan-in
 intermediate runs are left. It is used for the final merge and is
 computed as follows:
 <code><pre>
     finalFanIn = finalMemSize/(finalInputBufferSize+objectSize);
 </pre></code></div>
</li>
</ul>
<a name="runsCreated">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runsCreated</h4>
<pre>protected&nbsp;boolean runsCreated</pre>
<div class="block">A boolean flag to signal whether the runs are created.</div>
</li>
</ul>
<a name="openPhaseFinished">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>openPhaseFinished</h4>
<pre>protected&nbsp;boolean openPhaseFinished</pre>
<div class="block">A boolean flag to signal whether the open-phase is finished.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-double-double-double-int-double-xxl.core.functions.Function-xxl.core.functions.Function-java.util.Comparator-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MergeSorter</h4>
<pre>public&nbsp;MergeSorter(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
                   int&nbsp;blockSize,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   double&nbsp;firstOutputBufferRatio,
                   double&nbsp;outputBufferRatio,
                   double&nbsp;inputBufferRatio,
                   int&nbsp;finalMemSize,
                   double&nbsp;finalInputBufferRatio,
                   <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;newQueue,
                   <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&gt;&nbsp;newQueuesQueue,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;queuesQueueComparator,
                   boolean&nbsp;verbose)</pre>
<div class="block">Creates a new merge-sorter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the input iteration to be sorted.</dd>
<dd><code>comparator</code> - the comparator used to compare the elements in the
        heap (replacement-selection).</dd>
<dd><code>blockSize</code> - the size of a block (page).</dd>
<dd><code>objectSize</code> - the size of an object in main memory.</dd>
<dd><code>memSize</code> - the memory available to the merge-sorter during the
        open-phase.</dd>
<dd><code>firstOutputBufferRatio</code> - the ratio of memory available to the
        output-buffer during run-creation.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer and what remains
                is used for the heap
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl></dd>
<dd><code>outputBufferRatio</code> - the amount of memory available to the
        output-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer, what remains is
                used for the merger and the input buffer,
                <tt>inputBufferRatio</tt> determines how the remaining
                memory is distributed between them
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl></dd>
<dd><code>inputBufferRatio</code> - the amount of memory available to the
        input-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the input buffer, what remains is
                used for the merger (maximal fan-in)
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the input buffer
            </dd>
        </dl></dd>
<dd><code>finalMemSize</code> - the memory available to the merge-sorter during the
        next-phase.</dd>
<dd><code>finalInputBufferRatio</code> - the amount of memory available to the
        input-buffer of the final (online) merge.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                maximum number of inputs (maximal fan-in), i.e., perform
                the online merge as early as possible
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                write the entire data into a final queue, the online
                "merger" just reads the data from this queue
            </dd>
        </dl></dd>
<dd><code>newQueue</code> - the function <code>newQueue</code> should return a
        queue, which is used by the algorithm to materialize the internal
        runs, i.e., this function determines whether the sort operator
        works on queues based on external storage or in main memory
        (useful for testing and counting). The function takes two
        parameterless functions <code>getInputBufferSize</code> and
        <code>getOutputBufferSize</code> as parameters.</dd>
<dd><code>newQueuesQueue</code> - if this function is invoked, the queue, that
        should contain the queues to be merged, is returned. The function
        takes an iterator and the comparator
        <code>queuesQueueComparator</code> as parameters. E.g.,
        <code><pre>
          new Function&lt;Object, Queue&lt;E&gt;&gt;() {
              public Queue&lt;E&gt; invoke(Object iterator, Object comparator) {
                  return new DynamicHeap&lt;E&gt;((Iterator&lt;E&gt;)iterator, (Comparator&lt;E&gt;)comparator);
              }
          };
        </pre></code>
        The queues contained in the iterator are inserted in the dynamic
        heap using the given comparator for comparison.</dd>
<dd><code>queuesQueueComparator</code> - this comparator determines the next queue
        used for merging.</dd>
<dd><code>verbose</code> - if the <code>verbose</code> flag set to <code>true</code>
        the merge-sorter displays how the memory was distributed
        internally. In addition, the number of merges is displayed.</dd>
</dl>
</li>
</ul>
<a name="MergeSorter-java.util.Iterator-java.util.Comparator-int-int-double-double-double-int-double-xxl.core.functions.Function-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MergeSorter</h4>
<pre>public&nbsp;MergeSorter(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   double&nbsp;firstOutputBufferRatio,
                   double&nbsp;outputBufferRatio,
                   double&nbsp;inputBufferRatio,
                   int&nbsp;finalMemSize,
                   double&nbsp;finalInputBufferRatio,
                   <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;newQueue,
                   boolean&nbsp;verbose)</pre>
<div class="block">Creates a new merge-sorter. The queues to be merged are inserted in a
 <a href="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><code>dynamic heap</code></a> and they
 are compared according their sizes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the input iteration to be sorted.</dd>
<dd><code>comparator</code> - the comparator used to compare the elements in the
        heap (replacement-selection).</dd>
<dd><code>objectSize</code> - the size of an object in main memory.</dd>
<dd><code>memSize</code> - the memory available to the merge-sorter during the
        open-phase.</dd>
<dd><code>firstOutputBufferRatio</code> - the ratio of memory available to the
        output-buffer during run-creation.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer and what remains
                is used for the heap
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl></dd>
<dd><code>outputBufferRatio</code> - the amount of memory available to the
        output-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the output buffer, what remains is
                used for the merger and the input buffer,
                <code>inputBufferRatio</code> determines how the
                remaining memory is distributed between them
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the output buffer
            </dd>
        </dl></dd>
<dd><code>inputBufferRatio</code> - the amount of memory available to the
        input-buffer during intermediate merges (not the final merge).
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                use only one page for the input buffer, what remains is
                used for the merger (maximal fan-in)
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                use as much memory as possible for the input buffer
            </dd>
        </dl></dd>
<dd><code>finalMemSize</code> - the memory available to the merge-sorter during the
        next-phase.</dd>
<dd><code>finalInputBufferRatio</code> - the amount of memory available to the
        input-buffer of the final (online) merge.
        <dl>
            <dt>
                0.0
            </dt>
            <dd>
                maximum number of inputs (maximal fan-in), i.e., perform
                the online merge as early as possible
            </dd>
            <dt>
                1.0
            </dt>
            <dd>
                write the entire data into a final queue, the online
                "merger" just reads the data from this queue
            </dd>
        </dl></dd>
<dd><code>newQueue</code> - the function <code>newQueue</code> should return a
        queue, which is used by the algorithm to materialize the internal
        runs, i.e., this function determines whether the sort operator
        works on queues based on external storage or in main memory
        (useful for testing and counting). The function takes two
        parameterless functions <code>getInputBufferSize</code> and
        <code>getOutputBufferSize</code> as parameters.</dd>
<dd><code>verbose</code> - if the <code>verbose</code> flag set to <code>true</code>
        the merge-sorter displays how the memory was distributed
        internally. In addition, the number of merges is displayed.</dd>
</dl>
</li>
</ul>
<a name="MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-xxl.core.functions.Function-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MergeSorter</h4>
<pre>public&nbsp;MergeSorter(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   int&nbsp;finalMemSize,
                   <a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;?,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;,? extends <a href="../../../../xxl/core/collections/queues/Queue.html" title="interface in xxl.core.collections.queues">Queue</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&gt;&nbsp;newQueue,
                   boolean&nbsp;verbose)</pre>
<div class="block">Creates a new merge-sorter. The parameters
 <code>inputBufferRatio</code>, <code>finalInputBufferRatio</code>,
 <code>firstOutputBufferRatio</code> and <code>outputBufferRatio</code>
 are set to <code>0.0</code>. That means only one page is reserved for
 input- and output-buffer and the maximal fan-in is used during the
 intermediate merges and for the final merge. The queues to be merged are
 inserted in a
 <a href="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><code>dynamic heap</code></a> and they
 are compared according their sizes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the input iteration to be sorted.</dd>
<dd><code>comparator</code> - the comparator used to compare the elements in the
        heap (replacement-selection).</dd>
<dd><code>objectSize</code> - the size of an object in main memory.</dd>
<dd><code>memSize</code> - the memory available to the merge-sorter during the
        open-phase.</dd>
<dd><code>finalMemSize</code> - the memory available to the merge-sorter during the
        next-phase.</dd>
<dd><code>newQueue</code> - the function <code>newQueue</code> should return a
        queue, which is used by the algorithm to materialize the internal
        runs, i.e., this function determines whether the sort operator
        works on queues based on external storage or in main memory
        (useful for testing and counting). The function takes two
        parameterless functions <code>getInputBufferSize</code> and
        <code>getOutputBufferSize</code> as parameters.</dd>
<dd><code>verbose</code> - if the <code>verbose</code> flag set to <code>true</code>
        the merge-sorter displays how the memory was distributed
        internally. In addition, the number of merges is displayed.</dd>
</dl>
</li>
</ul>
<a name="MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MergeSorter</h4>
<pre>public&nbsp;MergeSorter(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   int&nbsp;finalMemSize,
                   boolean&nbsp;verbose)</pre>
<div class="block">Creates a new merge-sorter. The parameters
 <code>inputBufferRatio</code>, <code>finalInputBufferRatio</code>,
 <code>firstOutputBufferRatio</code> and <code>outputBufferRatio</code>
 are set to <code>0.0</code>. That means only one page is reserved for
 input- and output-buffer and the maximal fan-in is used during the
 intermediate merges and for the final merge. The queue are given by
 <a href="../../../../xxl/core/collections/queues/ListQueue.html" title="class in xxl.core.collections.queues"><code>list-queues</code></a>, i.e., the
 intermediate runs are materialized in main memory and they will be
 inserted in a
 <a href="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><code>dynamic heap</code></a> and they
 are compared according their sizes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the input iteration to be sorted.</dd>
<dd><code>comparator</code> - the comparator used to compare the elements in the
        heap (replacement-selection).</dd>
<dd><code>objectSize</code> - the size of an object in main memory.</dd>
<dd><code>memSize</code> - the memory available to the merge-sorter during the
        open-phase.</dd>
<dd><code>finalMemSize</code> - the memory available to the merge-sorter during the
        next-phase.</dd>
<dd><code>verbose</code> - if the <tcodet>verbose</code> flag set to
        <code>true</code> the merge-sorter displays how the memory was
        distributed internally. In addition, the number of merges is
        displayed.</dd>
</dl>
</li>
</ul>
<a name="MergeSorter-java.util.Iterator-java.util.Comparator-int-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MergeSorter</h4>
<pre>public&nbsp;MergeSorter(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;? extends <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;input,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;? super <a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;&nbsp;comparator,
                   int&nbsp;objectSize,
                   int&nbsp;memSize,
                   int&nbsp;finalMemSize)</pre>
<div class="block">Creates a new merge-sorter. The parameters
 <code>inputBufferRatio</code>, <code>finalInputBufferRatio</code>,
 <code>firstOutputBufferRatio</code> and <code>outputBufferRatio</code>
 are set to <code>0.0</code>. That means only one page is reserved for
 input- and output-buffer and the maximal fan-in is used during the
 intermediate merges and for the final merge. The queue are given by
 <a href="../../../../xxl/core/collections/queues/ListQueue.html" title="class in xxl.core.collections.queues"><code>list-queues</code></a>, i.e., the
 intermediate runs are materialized in main memory and they will be
 inserted in a
 <a href="../../../../xxl/core/collections/queues/DynamicHeap.html" title="class in xxl.core.collections.queues"><code>dynamic heap</code></a> and they
 are compared according their sizes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the input iteration to be sorted.</dd>
<dd><code>comparator</code> - the comparator used to compare the elements in the
        heap (replacement-selection).</dd>
<dd><code>objectSize</code> - the size of an object in main memory.</dd>
<dd><code>memSize</code> - the memory available to the merge-sorter during the
        open-phase.</dd>
<dd><code>finalMemSize</code> - the memory available to the merge-sorter during the
        next-phase.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInputBufferSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputBufferSize</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;getInputBufferSize()</pre>
<div class="block">Returns the current input-buffer size depending on
 <code>openPhaseFinished</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a parameterless function delivering the current input-buffer
         size.</dd>
</dl>
</li>
</ul>
<a name="getOutputBufferSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputBufferSize</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/functions/Function.html" title="interface in xxl.core.functions">Function</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;getOutputBufferSize()</pre>
<div class="block">Returns the current output-buffer size depending on
 <code>runsCreated</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a parameterless function delivering the current output-buffer
         size.</dd>
</dl>
</li>
</ul>
<a name="open--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open()</pre>
<div class="block">Opens the merge-sorter, i.e., signals the merge-sorter to reserve
 resources, computing and merging the intermediate runs, etc. Before a
 merge-sorter has been opened calls to methods like <code>next</code> or
 <code>peek</code> are not guaranteed to yield proper results. Therefore
 <code>open</code> must be called before a merge-sorter's data can be
 processed. Multiple calls to <code>open</code> do not have any effect,
 i.e., if <code>open</code> was called the merge-sorter remains in the
 state <i>opened</i> until its <code>close</code> method is called.
 
 <p>Note, that a call to the <code>open</code> method of a closed cursor
 usually does not open it again because of the fact that its state
 generally cannot be restored when resources are released respectively
 files are closed.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../xxl/core/cursors/Cursor.html#open--">open</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../xxl/core/cursors/AbstractCursor.html#open--">open</a></code>&nbsp;in class&nbsp;<code><a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the merge-sorter, i.e., signals the merge-sorter to clean up
 resources, close the input iteration, etc. When a cursor has been closed
 calls to methods like <code>next</code> or <code>peek</code> are not
 guaranteed to yield proper results. Multiple calls to <code>close</code>
 do not have any effect, i.e., if <code>close</code> was called the
 cursor remains in the state <i>closed</i>.
 
 <p>Note, that a closed cursor usually cannot be opened again because of
 the fact that its state generally cannot be restored when resources are
 released respectively files are closed.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../xxl/core/cursors/Cursor.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../xxl/core/cursors/Cursor.html" title="interface in xxl.core.cursors">Cursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../xxl/core/cursors/AbstractCursor.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="hasNextObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNextObject</h4>
<pre>protected&nbsp;boolean&nbsp;hasNextObject()</pre>
<div class="block">Returns <code>true</code> if the iteration has more elements. (In other
 words, returns <code>true</code> if <code>next</code> or
 <code>peek</code> would return an element rather than throwing an
 exception.)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../xxl/core/cursors/AbstractCursor.html#hasNextObject--">hasNextObject</a></code>&nbsp;in class&nbsp;<code><a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the merge-sorter has more elements.</dd>
</dl>
</li>
</ul>
<a name="nextObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextObject</h4>
<pre>protected&nbsp;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&nbsp;nextObject()</pre>
<div class="block">Returns the next element in the iteration. This element will be
 accessible by some of the merge-sorter's methods, e.g.,
 <code>update</code> or <code>remove</code>, until a call to
 <code>next</code> or <code>peek</code> occurs. This is calling
 <code>next</code> or <code>peek</code> proceeds the iteration and
 therefore its previous element will not be accessible any more.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../xxl/core/cursors/AbstractCursor.html#nextObject--">nextObject</a></code>&nbsp;in class&nbsp;<code><a href="../../../../xxl/core/cursors/AbstractCursor.html" title="class in xxl.core.cursors">AbstractCursor</a>&lt;<a href="../../../../xxl/core/cursors/sorters/MergeSorter.html" title="type parameter in MergeSorter">E</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the next element in the iteration.</dd>
</dl>
</li>
</ul>
<a name="showInfo--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>showInfo</h4>
<pre>protected&nbsp;void&nbsp;showInfo()</pre>
<div class="block">If the <code>verbose</code>-flag set to <code>true</code> the
 MergeSorter displays this information how the memory was distributed
 internally. In addition, the number of merges is displayed.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MergeSorter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../xxl/core/cursors/sorters/ShuffleCursor.html" title="class in xxl.core.cursors.sorters"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?xxl/core/cursors/sorters/MergeSorter.html" target="_top">Frames</a></li>
<li><a href="MergeSorter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000&#x2013;2016 <a href="https://dbs.mathematik.uni-marburg.de">Prof. Dr. Bernhard Seeger - Head of the Database Research Group - Department of Mathematics and Computer Science - University of Marburg - Germany</a>. All rights reserved.</small></p>
</body>
</html>
